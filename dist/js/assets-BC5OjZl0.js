const o={videos:{birds:{sources:[{src:"/src/assets/videos/birds.webm",type:"video/webm"},{src:"/src/assets/videos/birds.mov",type:"video/quicktime"}],options:{autoplay:!0,loop:!0,muted:!0,playsInline:!0,preload:"metadata"},styles:{position:"absolute",top:"15%",left:"65%",transform:"translateX(-50%)",width:"400px",height:"auto",opacity:"0.7",mixBlendMode:"screen",zIndex:"4",pointerEvents:"none"}}},images:{critical:["/src/assets/images/landing-illustration.png","/src/assets/images/cursor-sword.png","/src/assets/images/knight-body-centered.png","/src/assets/images/knight-head-centered.png","/src/assets/images/knight-sword-centered.png"],lazy:["/src/assets/images/dragon-silhouette.png","/src/assets/images/middleton-crest.png","/src/assets/images/nova-logo.png"]},fonts:{preload:["/src/assets/fonts/Tempting.ttf"],webFonts:["UnifrakturMaguntia","Cinzel:wght@400;600"]}};class i{constructor(){this.loadedAssets=new Set,this.loadingPromises=new Map}async preloadCriticalImages(){const e=o.images.critical.map(t=>this.loadImage(t));return Promise.all(e)}loadImage(e){if(this.loadedAssets.has(e))return Promise.resolve();if(this.loadingPromises.has(e))return this.loadingPromises.get(e);const t=new Promise((s,a)=>{const r=new Image;r.onload=()=>{this.loadedAssets.add(e),s(r)},r.onerror=a,r.src=e});return this.loadingPromises.set(e,t),t}createVideoElement(e){const t=document.createElement("video");return Object.entries(e.options).forEach(([s,a])=>{t[s]=a}),e.sources.forEach(s=>{const a=document.createElement("source");a.src=s.src,a.type=s.type,t.appendChild(a)}),Object.entries(e.styles).forEach(([s,a])=>{t.style[s]=a}),t.className="birds-video",t}setupLazyLoading(){if("IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(s=>{if(s.isIntersecting){const a=s.target,r=a.dataset.src;r&&this.loadImage(r).then(()=>{a.src=r,a.removeAttribute("data-src"),e.unobserve(a)})}})});o.images.lazy.forEach(t=>{const s=document.querySelector(`img[src="${t}"]`);s&&(s.dataset.src=t,s.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMSIgaGVpZ2h0PSIxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IGZpbGw9InRyYW5zcGFyZW50Ii8+PC9zdmc+",e.observe(s))})}else o.images.lazy.forEach(e=>{this.loadImage(e)})}}const c=new i;export{i as AssetLoader,o as assetConfig,c as assetLoader};
